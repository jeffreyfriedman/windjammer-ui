use std.http
use std.fs

fn main() {
    let server = http.Server.new("127.0.0.1:8080")
    
    print("ğŸš€ Windjammer UI Dev Server")
    print("ğŸ“ Serving from: crates/windjammer-ui")
    print("ï¿½ï¿½ Open: http://127.0.0.1:8080/examples/interactive_counter.html")
    print("")
    
    server.handle("/", |req, res| {
        res.send_file("examples/interactive_counter.html")
    })
    
    server.handle("/pkg/*", |req, res| {
        let path = req.path.replace("/pkg/", "pkg/")
        res.send_file(path)
    })
    
    server.listen()
}
